from recommend_profiles import parse_skills
import pytest

sample_resume = 'Alan Bloggs BE\n1Main Street, Irish Town, Co. Kilkenny\nAbloggs@gmail.com\n087 123 4555\nwww.linkedin.com/profile\n\nPersonal Profile\n\nExtensively experienced human resource manager with expertise in industrial relations as well as overall\nmanagement skills including staff management & project leadership.\nQualifications & Training\n\nDates\nDates\nDates\n\nOrdinary Degree in Human Resource Management in CIT.\nResult Obtained 2:1 Chartered Member of CIPD\nRegional College\nDiploma in Business Studies \xe2\x80\x93 HR\nSecondary School, Dublin\nWork Experience\n\nCompany X (if the company is not local to your market please include a short description including headcount)\nDates:\nJob Title: Human Resources Manager\nResponsibilities:\n\xef\x82\xb7\n\nResponsible for the HR function within Company X\n\n\xef\x82\xb7\n\nMember of the management team in Company X\n\n\xef\x82\xb7\n\nManage recruitment and selection of all new Company X employees and contract staff.\n\n\xef\x82\xb7\n\nProvide consultation to management on employee relations issues, and manage all disciplinary issues\nwithin the company. Manage all redundancy situations including calculations, financial guidance and\ncommunications to affected employees.\n\n\xef\x82\xb7\n\nManagement of Health and Safety for the entire site including risk assessments, audits and revisions of\npolicy and procedures. Engage with consultants on an ad hoc basis.\n\n\xef\x82\xb7\n\nWork closely with management and employees on all grievance issues within the company.\n\n\xef\x82\xb7\n\nWork closely with senior management to identity, develop and implement training and development\nprograms in line with the business objectives.\n\n\xef\x82\xb7\n\nProvide senior management and others with various types of employee reports including attrition,\nabsence, compensation, annual leave, overtime costs and headcount.\n\n\xef\x82\xb7\n\nManagement of the full recruitment process including sourcing strategy; interviewing; reference checking;\nmaking offers to candidates; driving and delivering induction training.\n\n\xef\x82\xb7\n\nResponsible for the development and delivery of the employee induction program.\n\n\xef\x82\xb7\n\nDesign and implementation of a company-wide performance management system that is linked to the\ncore vision and objectives of the business. Provision of on-going consultation to management on\nperformance related issues.\n\n\xef\x82\xb7\n\nDesign of a merit increase and salary review system with built in factors such as salary review budget,\ncompany performance, individual performance, market rate of the job and internal equity to ensure fair\nand equitable review of salaries within the business.\n\n\xef\x82\xb7\n\nDelivery of training to employees on a regular basis \xe2\x80\x93 e.g. induction training; quality training; training on\neffective recruitment and performance management.\n\nThe information outlined in this CV is fictional. This CV is designed to act as a guide only\nMorgan McKinley is a registered name of Premier Group. www.morganmckinley.ie\n\n\x0c\xef\x82\xb7\n\nResponsibility for ensuring Company X operated in line with employment legislation and health and safety\nat work legislation.\n\nCompany Y\nDates:\n\nJob Title: HR Generalist\n\nResponsibilities:\n\xef\x82\xb7\n\nCoordinating with all people managers in all employee related issues regarding employee investigations,\nabsence issues, counselling, grievance and discipline etc.\n\n\xef\x82\xb7\n\nEnsuring company compliance with all legislation and advising managers on all industrial relations issues;\n\n\xef\x82\xb7\n\nSupport people managers & payroll activities including salary benchmarking and the bonus process;\n\n\xef\x82\xb7\n\nSuccessful in supporting necessary change processes in implementing WCM/lean manufacturing within\nthe organization;\n\n\xef\x82\xb7\n\nLiaising with union representatives in all negotiations such as shift changes, redundancy criteria and other\ngeneral IR issues;\n\n\xef\x82\xb7\n\nProject management \xe2\x80\x93 leading & supporting business related projects to drive HR and the business\nforward;\n\n\xef\x82\xb7\n\nAdministering payroll/deductions/pensions for staff.\n\n\xef\x82\xb7\n\nCoordinating recruitment and selection procedures & delivering induction training;\n\n\xef\x82\xb7\n\nDeveloping and maintaining job descriptions;\n\n\xef\x82\xb7\n\nEvaluating competencies & training needs for all employees;\n\n\xef\x82\xb7\n\nManaging and reviewing training budget;\n\n\xef\x82\xb7\n\nProvide comprehensive high quality customer focused HR support across a broad range of HR activities.\n\nCompany Z\nDates:\n\nJob Title: HR Administrator\n\nResponsibilities:\n\xef\x82\xb7\n\nOrganising the recruitment of staff, coordinating interviews, checking references.\n\n\xef\x82\xb7\n\nDrafted contracts, and finalised same for all new hires.\n\n\xef\x82\xb7\n\nDelivery of HR induction module to new starters.\n\n\xef\x82\xb7\n\nHR reporting to management (include a list of reports)\n\n\xef\x82\xb7\n\nInvolved in review of employee reward strategy, and proposals for improvement of same. Ad Hoc\nproject duties as the arose.\n\n\xef\x82\xb7\n\nProvided administration support to the HR Manager in all HR related matters;\n\n\xef\x82\xb7\n\nManaged time & attendance records for payroll;\n\n\xef\x82\xb7\n\nDeveloped and implemented corporate policies and other relevant documentation.\nHobbies\n\nPlease include all activities along with any volunteering or committees you are involved in, in particular the local\ncommunity.\nReferences\n\nThe information outlined in this CV is fictional. This CV is designed to act as a guide only\nMorgan McKinley is a registered name of Premier Group. www.morganmckinley.ie'
def test_parse_skills_empty_string():
    assert parse_skills("")== []
    
def test_parse_skills_empty_skills():
    assert parse_skills("Alan Bloggs BE\n1Main Street")== []

def test_parse_skills_one_sentence():
    assert parse_skills("Xilin knows Python") == ["python"]

def test_parse_skills_one_sentence_lower():
    assert parse_skills("Xilin knows python") == ["python"]

def test_parse_skills_one_sentence_duplicate():
    assert parse_skills("Xilin knows Python python") == ["python"]

def test_parse_skills_sample():
    actual_skills = parse_skills(sample_resume)
    print(actual_skills)
    assert 'design' in actual_skills

def test_parse_skills_one_sentence_double():
    assert parse_skills("Xilin does Project Management") == ["project management"]

def test_parse_skills_sample_sort():
    assert parse_skills(sample_resume) == ['business', 'communications', 'design', 'documentation', 'project management', 'support']

def test_parse_skills_sample_sort_another():
    actual_skills = parse_skills(sample_resume)
    assert actual_skills[0] < actual_skills[-1]